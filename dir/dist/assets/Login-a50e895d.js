/* empty css             *//* empty css                  *//* empty css               *//* empty css               *//* empty css                  *//* empty css               */import{r as w}from"./request-fdbd87a6.js";import{_ as y,l as u,D as V,o as E,c as I,a as s,d as e,w as l,C as N,k as c,p as S,g as k,y as _,L as B,m as L,B as U,M as q,N as C,n as D}from"./index-eeec9794.js";const f=a=>(S("data-v-47fdc53b"),a=a(),k(),a),M={class:"login-container"},T={style:{width:"350px"},class:"login-box"},F=f(()=>s("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px"}},"登 陆",-1)),O=f(()=>s("div",{style:{"margin-top":"30px","text-align":"right"}},[c(" 还没有账号？请"),s("a",{href:"/register"},"注册")],-1)),R={__name:"Login",setup(a){const t=u({form:{role:""}}),g=u({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}),d=V(),b=()=>{d.value.validate(i=>{i&&w.post("/login",t.form).then(o=>{o.code==="200"?(localStorage.setItem("account-user",JSON.stringify(o.data)),_.success("登陆成功"),B.push("/home")):_.error(o.msg)})})};return(i,o)=>{const m=L,n=U,p=q,x=C,h=D,v=N;return E(),I("div",null,[s("div",M,[s("div",T,[F,e(v,{model:t.form,ref_key:"formRef",ref:d,rules:g},{default:l(()=>[e(n,{label:"账户",prop:"username"},{default:l(()=>[e(m,{"prefix-icon":"User",modelValue:t.form.username,"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.username=r),placeholder:"清输入账号"},null,8,["modelValue"])]),_:1}),e(n,{label:"密码",prop:"password"},{default:l(()=>[e(m,{"show-password":"","prefix-icon":"Lock",modelValue:t.form.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.form.password=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(n,{label:"角色",prop:"role"},{default:l(()=>[e(x,{style:{width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":o[2]||(o[2]=r=>t.form.role=r)},{default:l(()=>[e(p,{value:"ADMIN",label:"管理员"}),e(p,{value:"STUDENT",label:"学生"})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(h,{type:"primary",style:{width:"100%"},onClick:b},{default:l(()=>[c("登 录")]),_:1})]),_:1})]),_:1},8,["model","rules"]),O])])])}}},Q=y(R,[["__scopeId","data-v-47fdc53b"]]);export{Q as default};
