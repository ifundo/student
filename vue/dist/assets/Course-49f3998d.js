/* empty css             *//* empty css               *//* empty css                    *//* empty css                  *//* empty css               *//* empty css               *//* empty css                  *//* empty css               *//* empty css                */import{l as N,o as S,c as z,a as d,d as o,b as c,w as a,m as B,n as D,q as P,s as T,v as I,x as g,k as s,y as f,z as q,A as O,B as $,C as A}from"./index-0cb31f90.js";import{r as V}from"./request-7700de20.js";const F={class:"card",style:{"margin-top":"10px","margin-bottom":"10px"}},J={class:"card",style:{"margin-top":"10px"}},M={class:"card",style:{"margin-top":"10px"}},j={class:"dialog-footer"},le={__name:"Course",setup(G){const e=N({name:"",no:"",teacher:"",tableData:[],total:0,pageNum:1,pageSize:10,formVisible:!1,form:{}}),p=()=>{V.get("/course/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,name:e.name,no:e.no,teacher:e.teacher}}).then(r=>{var l,n;e.tableData=((l=r.data)==null?void 0:l.list)||[],e.total=((n=r.data)==null?void 0:n.total)||0})};p();const _=()=>{p()},b=()=>{e.name="",e.name="",e.no="",e.teacher="",p()},x=()=>{e.form={},e.formVisible=!0},y=()=>{V.request({url:e.form.id?"/course/updateCourseById":"course/addCourse",method:e.form.id?"PUT":"POST",data:e.form}).then(r=>{r.code==="200"?(f.success("操作成功"),p(),e.formVisible=!1):f.error(r.msg)})},h=r=>{e.form=JSON.parse(JSON.stringify(r)),e.formVisible=!0},C=r=>{q.confirm("删除的数据无法恢复，您确定删除吗？","删除确认",{type:"warning"}).then(l=>{V.delete("/course/deleteCourseById/"+r).then(n=>{n.code==="200"?(f.success("操作成功"),p()):f.error(n.msg)})}).catch(l=>{f({type:"info",message:"删除取消"})})};return(r,l)=>{const n=B,m=D,i=O,v=P,k=T,u=$,w=A,E=I;return S(),z("div",null,[d("div",F,[o(n,{style:{width:"260px","margin-right":"10px"},modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.name=t),placeholder:"请输入课程名称查询:","prefix-icon":c(g)},null,8,["modelValue","prefix-icon"]),o(n,{style:{width:"260px","margin-right":"10px"},modelValue:e.no,"onUpdate:modelValue":l[1]||(l[1]=t=>e.no=t),placeholder:"请输入课程编号查询:","prefix-icon":c(g)},null,8,["modelValue","prefix-icon"]),o(n,{style:{width:"260px","margin-right":"10px"},modelValue:e.teacher,"onUpdate:modelValue":l[2]||(l[2]=t=>e.teacher=t),placeholder:"请输入课程老师查询:","prefix-icon":c(g)},null,8,["modelValue","prefix-icon"]),o(m,{type:"primary",style:{"margin-left":"10px"},onClick:p},{default:a(()=>[s("查询")]),_:1}),o(m,{type:"info",onClick:b},{default:a(()=>[s("重置")]),_:1})]),d("div",J,[d("div",null,[o(m,{type:"primary",onClick:x},{default:a(()=>[s("新增")]),_:1})]),d("div",null,[o(v,{data:e.tableData,style:{width:"100%"}},{default:a(()=>[o(i,{prop:"id",label:"序号",width:"80"}),o(i,{prop:"name",label:"课程名称"}),o(i,{prop:"no",label:"课程编号"}),o(i,{prop:"descr",label:"课程描述"}),o(i,{prop:"times",label:"课时"}),o(i,{prop:"teacher",label:"任课老师"}),o(i,{label:"操作",width:"180px"},{default:a(t=>[o(m,{type:"primary",onClick:U=>h(t.row)},{default:a(()=>[s("编 辑")]),_:2},1032,["onClick"]),o(m,{type:"danger",onClick:U=>C(t.row.id)},{default:a(()=>[s("删 除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),d("div",M,[o(k,{"current-page":e.pageNum,"onUpdate:currentPage":l[3]||(l[3]=t=>e.pageNum=t),"page-size":e.pageSize,"onUpdate:pageSize":l[4]||(l[4]=t=>e.pageSize=t),onCurrentChange:_,background:"",layout:"prev, pager, next",total:e.total},null,8,["current-page","page-size","total"])]),d("div",null,[o(E,{width:"30%",modelValue:e.formVisible,"onUpdate:modelValue":l[11]||(l[11]=t=>e.formVisible=t),title:"课程信息"},{footer:a(()=>[d("span",j,[o(m,{onClick:l[10]||(l[10]=t=>e.formVisible=!1)},{default:a(()=>[s("取 消")]),_:1}),o(m,{type:"primary",onClick:y},{default:a(()=>[s("保 存")]),_:1})])]),default:a(()=>[o(w,{model:e.form,"label-width":"100px","label-position":"right",style:{"margin-right":"40px"}},{default:a(()=>[o(u,{label:"课程名称"},{default:a(()=>[o(n,{modelValue:e.form.name,"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程编号"},{default:a(()=>[o(n,{modelValue:e.form.no,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.no=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程描述"},{default:a(()=>[o(n,{modelValue:e.form.descr,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.descr=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程时间"},{default:a(()=>[o(n,{modelValue:e.form.times,"onUpdate:modelValue":l[8]||(l[8]=t=>e.form.times=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(u,{label:"课程老师"},{default:a(()=>[o(n,{modelValue:e.form.teacher,"onUpdate:modelValue":l[9]||(l[9]=t=>e.form.teacher=t),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])}}};export{le as default};
